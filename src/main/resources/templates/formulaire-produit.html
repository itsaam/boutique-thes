<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${produit.id != null ? 'Modifier un Produit' : 'Nouveau Produit'}">Formulaire Produit</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="container">
        <h1 th:text="${produit.id != null ? 'Modifier un Produit' : 'Nouveau Produit'}">Formulaire</h1>
        
        <form th:action="${produit.id != null ? '/modifier/' + produit.id : '/enregistrer'}" 
              th:object="${produit}" 
              method="post" 
              class="product-form">
            
            <div class="form-group">
                <label for="nom">Nom *</label>
                <input type="text" id="nom" th:field="*{nom}" required maxlength="100">
                <span th:if="${#fields.hasErrors('nom')}" th:errors="*{nom}" class="error"></span>
            </div>

            <div class="form-group">
                <label for="typeThe">Type de Thé *</label>
                <select id="typeThe" th:field="*{typeThe}" required>
                    <option value="">Sélectionnez un type</option>
                    <option value="Vert">Vert</option>
                    <option value="Noir">Noir</option>
                    <option value="Oolong">Oolong</option>
                    <option value="Blanc">Blanc</option>
                    <option value="Pu-erh">Pu-erh</option>
                </select>
                <span th:if="${#fields.hasErrors('typeThe')}" th:errors="*{typeThe}" class="error"></span>
            </div>

            <div class="form-group">
                <label for="origine">Origine *</label>
                <select id="origine" th:field="*{origine}" required>
                    <option value="">Sélectionnez une origine</option>
                    <option value="Chine">Chine</option>
                    <option value="Japon">Japon</option>
                    <option value="Inde">Inde</option>
                    <option value="Sri Lanka">Sri Lanka</option>
                    <option value="Taiwan">Taiwan</option>
                </select>
                <span th:if="${#fields.hasErrors('origine')}" th:errors="*{origine}" class="error"></span>
            </div>

            <div class="form-group">
                <label for="prix">Prix (€) *</label>
                <input type="number" id="prix" th:field="*{prix}" step="0.01" min="5" max="100" required>
                <span th:if="${#fields.hasErrors('prix')}" th:errors="*{prix}" class="error"></span>
            </div>

            <div class="form-group">
                <label for="quantiteStock">Quantité en Stock *</label>
                <input type="number" id="quantiteStock" th:field="*{quantiteStock}" min="0" required>
                <span th:if="${#fields.hasErrors('quantiteStock')}" th:errors="*{quantiteStock}" class="error"></span>
            </div>

            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" th:field="*{description}" maxlength="500" rows="4"></textarea>
                <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}" class="error"></span>
            </div>

            <div class="form-group">
                <label for="dateReception">Date de Réception</label>
                <input type="date" id="dateReception" th:field="*{dateReception}">
                <span th:if="${#fields.hasErrors('dateReception')}" th:errors="*{dateReception}" class="error"></span>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn">Enregistrer</button>
                <a th:href="@{/}" class="btn btn-secondary">Annuler</a>
            </div>
        </form>
    </div>
</body>
</html>
